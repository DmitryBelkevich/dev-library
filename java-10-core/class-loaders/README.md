платформа Java имеет модель динамической загрузки классов, которая позволяет загружать исполняемый код в JRE не перезагружая основое приложение.

любой класс, используемый в java-приложении, был загружен в контекст приложения одним из загрузчиков классов.

--

**Java 8:**

Bootstrap class loader
базовый загрузчик классов
реализован на уровне: JVM (т.е. не имеет обратной связи со средой исполнения (Object.class.getClassLoader() => null))
загружает классы из директории: $JAVA_HOME/jre/lib/rt.jar
управление загрузкой базовых классов:
    ключ: -Xbootclasspath, который позволяет переопределять наборы базовых классов.

Extension class loader (sun.misc.Launcher$ExtClassLoader)
загрузчик классов расширений
реализован на уровне: JRE
загружает классы из директории: $JAVA_HOME/jre/lib/ext/*.jar
управление загрузкой расширений:
    системная опциия: java.ext.dirs

System class loader (sun.misc.Launcher$AppClassLoader)
системный загрузчик классов
реализован на уровне: JRE
загружает классы из дериктории: пути указаны в переменной окружения $CLASSPATH
управление загрузкой системных классов:
    ключ: -classpath
    системная опция: java.class.path

Plugin class loader
загрузчик классов подключаемых модулей
реализован на уровне: JRE
загружает указаные пользователем классы

--

Current class loader
текущий загрузчик
загрузчик класса, код которого в данный момент исполняется
используется:
    по умолчанию для загрузки классов в процессе исполнения
    при использовании методов:
        Class.forName("")
        ClassLoader.loadClass("")
    при любой декларации класса, ранее не загруженного.

Context class loader
загрузчик контекста
загрузчик контекста текущего потока
    Загрузчик контекста устанавливается автоматически для каждого нового потока. При этом, используется загрузчик родительского потока.
    Получить и установить данный загрузчик можно с помощью методов:
        Thread.getContextClassLoader()
        Thread.setContextClassLoader()

--

**Java 9:**

--

**Делегирование загрузки:**

загрузчики классов образуют иерархию:

Bootstrap class loader
^
Extension class loader
^
System class loader

Право загрузки класса рекурсивно делегируется от самого нижнего загрузчика в иерархии к самому верхнему.
Каждый загрузчик классов ведет учет классов, которые были им загружены.
Множество этих классов назвается областью видимости.

процесс загрузки класса:

1) Системный загрузчик попытается поискать в кеше класс Entity.
    1.1) Если класс найден, загрузка окончена.
    1.2) Если класс не найден, загрузка делегируется загрузчику расширений.
2) Загрузчик расширений попытается поискать в кеше класс Entity.
    2.1) Если класс найден, загрузка окончена.
    2.2) Если класс не найден, загрузка делегируется базовому загрузчику.
3) Базовый загрузчик попытается поискать в кеше класс Entity.
    3.1) Если класс найден, загрузка окончена.
    3.2) Если класс не найден, базовый загрузчик попытается его загрузить.
        3.2.1) Если загрузка прошла успешно, она закончена.
        3.2.2) Иначе управление предается загрузчику раширений.
    3.3) Загрузчик расширений пытается загрузить класс. 
        3.3.1) Если загрузка прошла успешно, она закончена.
        3.3.2) Иначе управление предается системному загрузчику.
    3.4) Системный загрузчик пытается загрузить класс. 
        3.4.1) Если загрузка прошла успешно, она закончена.
        3.4.2) Иначе генерируется исключение java.lang.ClassNotFoundException
--

Статическая загрузка класса:
происходит при использовании оператора new

Динамическая загрузка класса:
происходит на лету в ходе выполнения программы при помощи статического метода Class.forName("")